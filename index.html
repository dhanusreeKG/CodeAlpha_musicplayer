<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>CodeAlpha GTA Music Player</title>
<style>
    body {
        margin: 0;
        height: 100vh;
        background: radial-gradient(circle at top, #ff2f92, #0a0014);
        display: flex;
        justify-content: center;
        align-items: center;
        font-family: 'Poppins', sans-serif;
        color: #fff;
    }

    .player {
        width: 340px;
        background: rgba(0,0,0,0.75);
        border-radius: 20px;
        padding: 20px;
        box-shadow: 0 0 25px #ff2f92;
    }

    .title { text-align:center; font-size:20px; font-weight:bold; color:#ff6bb5; }
    .artist { text-align:center; font-size:14px; opacity:0.8; margin-bottom:15px; }

    .progress-container { background:#333; height:6px; border-radius:10px; cursor:pointer; margin:10px 0; }
    .progress { background:#ff2f92; height:100%; width:0%; border-radius:10px; }

    .time { display:flex; justify-content:space-between; font-size:12px; opacity:0.7; }

    .controls { display:flex; justify-content:space-around; margin:15px 0; }
    .controls button { background:none; border:none; font-size:22px; color:#ff6bb5; cursor:pointer; transition: transform 0.2s; }
    .controls button:hover { transform: scale(1.2); color:#fff; }

    .volume { width:100%; }

    .playlist { margin-top:15px; max-height:120px; overflow-y:auto; }
    .playlist div { padding:6px; cursor:pointer; border-radius:6px; font-size:14px; }
    .playlist div.active { background:#ff2f92; color:#000; }
    .playlist div:hover { background: rgba(255,47,146,0.3); }
</style>
</head>
<body>

<div class="player">
    <div class="title" id="title">Song Title</div>
    <div class="artist" id="artist">Artist</div>

    <audio id="audio"></audio>

    <div class="progress-container" id="progressContainer">
        <div class="progress" id="progress"></div>
    </div>

    <div class="time">
        <span id="currentTime">0:00</span>
        <span id="duration">0:00</span>
    </div>

    <div class="controls">
        <button onclick="prevSong()">⏮</button>
        <button onclick="togglePlay()">▶️</button>
        <button onclick="nextSong()">⏭</button>
    </div>

    <input type="range" class="volume" min="0" max="1" step="0.01" onchange="setVolume(this.value)">

    <div class="playlist" id="playlist"></div>
</div>

<script>
const songs = [
    { title: "Kannukulla", artist: "GTA Vice", src: "song1.mp3" },
    { title: "Kaththi", artist: "Vice City", src: "song2.mp3" },
    { title: "Naa", artist: "GTA Wave", src: "song3.mp3" }
];

let currentSong = 0;
const audio = document.getElementById("audio");
const title = document.getElementById("title");
const artist = document.getElementById("artist");
const progress = document.getElementById("progress");
const progressContainer = document.getElementById("progressContainer");
const currentTimeEl = document.getElementById("currentTime");
const durationEl = document.getElementById("duration");
const playlistEl = document.getElementById("playlist");

function loadSong(index) {
    const song = songs[index];
    title.innerText = song.title;
    artist.innerText = song.artist;
    audio.src = song.src;
    updatePlaylist();
}

function togglePlay() {
    if (audio.paused) audio.play(); else audio.pause();
}

function nextSong() {
    currentSong = (currentSong + 1) % songs.length;
    loadSong(currentSong);
    audio.play();
}

function prevSong() {
    currentSong = (currentSong - 1 + songs.length) % songs.length;
    loadSong(currentSong);
    audio.play();
}

audio.addEventListener("timeupdate", () => {
    const { currentTime, duration } = audio;
    progress.style.width = `${(currentTime / duration) * 100}%`;
    currentTimeEl.innerText = formatTime(currentTime);
    durationEl.innerText = formatTime(duration);
});

audio.addEventListener("ended", nextSong); // autoplay

progressContainer.addEventListener("click", e => {
    const width = progressContainer.clientWidth;
    audio.currentTime = (e.offsetX / width) * audio.duration;
});

function setVolume(value) { audio.volume = value; }

function formatTime(time) {
    if (isNaN(time)) return "0:00";
    const minutes = Math.floor(time / 60);
    const seconds = Math.floor(time % 60).toString().padStart(2, "0");
    return `${minutes}:${seconds}`;
}

function updatePlaylist() {
    playlistEl.innerHTML = "";
    songs.forEach((song, index) => {
        const div = document.createElement("div");
        div.innerText = song.title;
        if (index === currentSong) div.classList.add("active");
        div.onclick = () => { currentSong = index; loadSong(index); audio.play(); };
        playlistEl.appendChild(div);
    });
}

loadSong(currentSong);
</script>

</body>
</html>
